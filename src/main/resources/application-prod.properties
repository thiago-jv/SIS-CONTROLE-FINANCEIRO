# =====================================
# AMBIENTE: PRODUÇÃO
# =====================================

# =====================================
# DATABASE
# =====================================
spring.datasource.url=jdbc:postgresql://db-postgresql:5432/bdfinanceiro
spring.datasource.username=admin
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# =====================================
# HIKARI CONNECTION POOL (PROD - Otimizado)
# =====================================
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000

# =====================================
# JPA/HIBERNATE (PROD - Sem DDL Auto)
# =====================================
spring.jpa.show-sql=false
spring.jpa.generate-ddl=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# =====================================
# ACTUATOR (PROD - Apenas essenciais)
# =====================================
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

# =====================================
# LOGGING (PROD - Apenas erros críticos)
# =====================================
logging.level.root=WARN
logging.level.com.financeiro=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN

# =====================================
# SECURITY
# =====================================
server.error.include-message=never
server.error.include-stacktrace=never
server.error.include-exception=false
server.error.include-binding-errors=never

# =====================================
# PERFORMANCE
# =====================================
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true